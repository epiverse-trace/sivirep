<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="es">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Custom analysis • sivirep</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png">
<link rel="icon" type="”image/svg+xml”" href="../favicon.svg">
<link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png">
<link rel="icon" sizes="any" href="../favicon.ico">
<link rel="manifest" href="../site.webmanifest">
<script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Custom analysis">
<!-- Google tag (gtag.js) --><script async src="https://www.googletagmanager.com/gtag/js?id=G-XZ471458FQ"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-XZ471458FQ');
</script>
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">
    <a href="https://epiverse-trace.github.io/" class="external-link"><img src="https://epiverse-trace.github.io/blueprints/logo_white.svg" id="logo" alt="Epiverse-TRACE"></a>
    <a class="navbar-brand me-2" href="../index.html">sivirep</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">1.0.2</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../articles/sivirep.html">Get started</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-generar-reportes" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Generar reportes</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-generar-reportes">
<li><a class="dropdown-item" href="../articles/automated_report.html">Plantilla reporte automatizado</a></li>
    <li><a class="dropdown-item" href="../articles/custom_analysis.html">Análisis personalizados</a></li>
    <li><a class="dropdown-item" href="../articles/resources.html">Recursos</a></li>
  </ul>
</li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-get-started-en-" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Get started (EN)</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-get-started-en-">
<li><a class="dropdown-item" href="../articles/sivirep_en.html">Quick start</a></li>
    <li><a class="dropdown-item" href="../articles/custom_analysis_en.html">Custom analysis</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/epiverse-trace/sivirep/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch">
<li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul>
</li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.svg" class="logo" alt=""><h1>Custom analysis</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/epiverse-trace/sivirep/blob/v1.0.2/vignettes/articles/custom_analysis_en.Rmd" class="external-link"><code>vignettes/articles/custom_analysis_en.Rmd</code></a></small>
      <div class="d-none name"><code>custom_analysis_en.Rmd</code></div>
    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://epiverse-trace.github.io/sivirep/">sivirep</a></span><span class="op">)</span></span></code></pre></div>
<p>Below is a basic set of instructions for using <code>sivirep</code>
in the following scenarios:</p>
<ul>
<li>You have already created an <code>.Rmd</code> file and want to edit
a report.</li>
<li>You want to perform custom analyses without using an
<code>.Rmd</code> file.</li>
</ul>
<div class="section level3">
<h3 id="setting">Setting<a class="anchor" aria-label="anchor" href="#setting"></a>
</h3>
<p>You can start by importing the package using the following
command:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://epiverse-trace.github.io/sivirep/">sivirep</a></span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="importing-sivigila-data">1. Importing sivigila data<a class="anchor" aria-label="anchor" href="#importing-sivigila-data"></a>
</h3>
<p>The SIVIGILA source provides historical data up to the most recent
closed epidemiological year. The closing of an epidemiological year
typically occurs in April of the following year.For example, if you are
using <code>sivirep</code> in March 2025, you will likely have access to
historical data up to December 2024 for most diseases, with a few
exceptions.</p>
<p>Before using the function, please check the available diseases and
years with the following command:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">list_diseases</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/list_events.html">list_events</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p>Once you have decided the disease and year you want, you can use
<code>import_data_event</code> to import the disease data from SIVIGILA
using the disease or event name and year (you can download data for
multiple years).</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">disease_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/import_data_event.html">import_data_event</a></span><span class="op">(</span>nombre_event <span class="op">=</span> <span class="st">"dengue"</span>,</span>
<span>                                  years <span class="op">=</span> <span class="fl">2020</span>,</span>
<span>                                  ruta_dir <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<blockquote>
<p>💡 <strong>Tip - Avoid time delays when importing data</strong> <br><code>sivirep</code> is meant to assist with access to SIVIGILA source.
The process of downloading disease information may take a few minutes
depending on the size of the dataset. To avoid re-downloading the same
data each time, you can use the <code>cache = TRUE</code> parameter in
the function <code>import_data_event</code>.</p>
</blockquote>
<blockquote>
<p>💡 <strong>Tip - Download disease data for multiple years</strong>
<br> With the function <code>import_data_event</code>, it is possible
to download data for multiple years. For example, if you want to
download data for 3 years of a particular diease, you can use the
<code>year</code> parameter as follows:
<code>import_data_event(data_event = "dengue", years = c(2021, 2019, 2018), cache = TRUE)</code>
You can also specify non-consecutive years:
<code>import_data_event(data_event = "dengue", years = c(2024, 2018, 2013), cache = TRUE)</code></p>
</blockquote>
</div>
<div class="section level3">
<h3 id="cleaning-sivigila-data">2. Cleaning sivigila data<a class="anchor" aria-label="anchor" href="#cleaning-sivigila-data"></a>
</h3>
<p>SIVILA data is a highly trusted official source of information with
ISO certification of data quality. Nevertheless, some potential outliers
or anomalies may be present in the data, requiring additional
cleaning.</p>
<p><code>sivirep</code> provides a wrapper generic function called
<code>limpiar_data_sivigila</code>, which helps identifying and
correcting errors, inconsistencies, and discrepancies to improve the
quality and accuracy of datasets. This process may include tasks such as
removing duplicates, correcting typographical errors, imputing missing
values, and validating entries. It can also involve cleaning improbable
dates, standardizing geolocation codes, harmonizing column names and age
categories, all in accordance with the disease protocols defined by the
INS.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">cleaned_disease_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/limpiar_data_sivigila.html">limpiar_data_sivigila</a></span><span class="op">(</span>data_event <span class="op">=</span> <span class="va">disease_data</span><span class="op">)</span></span></code></pre></div>
<p>These may include internal functions such as:</p>
<ul>
<li>
<code>limpiar_edad_event</code>: function that cleans and
standardises the column names of SIVIGILA data.</li>
<li>
<code>limpiar_edad_event</code>: function that cleans and
standardizes ages from disease data to years, according to INS
clasification.</li>
<li>
<code>limpiar_val_atipic</code>: function that cleans outliers from
disease data.</li>
<li>
<code>limpiar_fecha_event</code>: function that cleans and
standardizes dates from disease data.</li>
<li>
<code>estandarizar_geo_cods</code>: function that standardizes the
geographical codes of the disease data, according to DIVIPOLA
codification.</li>
<li>
<code>convert_edad</code>: function that converts ages to years
according to SIVIGILA measurement units.</li>
</ul>
<p>You may want to use these functions individually or simply use the
generic wrapper cleaning function.</p>
</div>
<div class="section level3">
<h3 id="filter-cases">3. Filter cases<a class="anchor" aria-label="anchor" href="#filter-cases"></a>
</h3>
<p><code>sivirep</code> provides a function called
<code>geo_filtro</code>, which you can use to filter disease data by
department or municipality . It allows you to create a subnational
report.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">filtered_disease_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/geo_filtro.html">geo_filtro</a></span><span class="op">(</span>data_event <span class="op">=</span> <span class="va">cleaned_disease_data</span>,</span>
<span>                                    <span class="st">"Choco"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="temporal-distribution-of-cases">4. Temporal distribution of cases<a class="anchor" aria-label="anchor" href="#temporal-distribution-of-cases"></a>
</h3>
<p>In <code>sivirep</code> the temporal distribution of cases is defined
by the two variables: symptom onset date and notification date. For each
of these variables, there are specialised functions to group the data
and generate the plots.</p>
<div class="section level4">
<h4 id="grouping-data-by-symptom-onset-at-the-desired-temporal-scale">4.1. Grouping data by symptom onset at the desired temporal
scale<a class="anchor" aria-label="anchor" href="#grouping-data-by-symptom-onset-at-the-desired-temporal-scale"></a>
</h4>
<p>To generate the distribution of cases by symptom onset date, it is
necessary to group the data by this variable. <code>sivirep</code>
provides a function called <code>group_onset_symptoms</code> for this
task.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">cases_onset_symptoms</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/agrupar_fecha_inisintomas.html">agrupar_fecha_inisintomas</a></span><span class="op">(</span>data_event <span class="op">=</span></span>
<span>                                                    <span class="va">cleaned_disease_data</span><span class="op">)</span></span></code></pre></div>
<blockquote>
<p>💡 <strong>Tip - Get the first n months with most cases</strong>
<br> When building a report section or analysing this data it can be
useful to get the months with the most cases. In <code>sivirep</code>
you can use the function <code>obtener_meses_mas_casos</code> to get
this information.</p>
</blockquote>
<p>The graph that allows to visualise this distribution must be
generated with the function <code>plot_fecha_inisintomas</code>. You can
customise the plot’s ticks by day (<code>dia</code>), month
(<code>mes</code>) or epidemiological week (<code>semanaepi</code>), as
shown below:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/plot_fecha_inisintomas.html">plot_fecha_inisintomas</a></span><span class="op">(</span>data_agrupada <span class="op">=</span> <span class="va">cases_onset_symptoms</span>,</span>
<span>                       uni_marca <span class="op">=</span> <span class="st">"semanaepi"</span><span class="op">)</span></span></code></pre></div>
<p><img src="custom_analysis_en_files/figure-html/plot-symptom-onset-1.png" width="576"></p>
</div>
</div>
<div class="section level3">
<h3 id="age-and-sex">5. Age and sex<a class="anchor" aria-label="anchor" href="#age-and-sex"></a>
</h3>
</div>
<div class="section level3">
<h3 id="sex-variable">5.1. Sex variable<a class="anchor" aria-label="anchor" href="#sex-variable"></a>
</h3>
<p>When analysing or reporting disease data, it is often necessary to
determine the distribution of cases by gender or sex. However, the
SIVIGILA source only records sex.</p>
<p><code>sivirep</code> provides a function that groups and computes
percentages by sex automatically after the cleaning process.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">cases_sex</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/agrupar_sex.html">agrupar_sex</a></span><span class="op">(</span>data_event <span class="op">=</span> <span class="va">cleaned_disease_data</span>,</span>
<span>                         porcentaje <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<p>Also, <code>sivirep</code> provides a function called
<code>plot_sex</code>to plot this distribution:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/plot_sex.html">plot_sex</a></span><span class="op">(</span>data_agrupada <span class="op">=</span> <span class="va">cases_sex</span><span class="op">)</span></span></code></pre></div>
<p><img src="custom_analysis_en_files/figure-html/plot-sex-1.png" width="672"></p>
<p>To generate the distribution of cases by sex and epidemiological
week, you can use the <code>agrupar_sex_semanaepi</code> function
provided by <code>sivirep</code>:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">cases_sex_epiweek</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/agrupar_sex_semanaepi.html">agrupar_sex_semanaepi</a></span><span class="op">(</span>data_event <span class="op">=</span> <span class="va">cleaned_disease_data</span><span class="op">)</span></span></code></pre></div>
<p>The corresponding visualisation function that provides
<code>sivirep</code> is <code>plot_sex_semanaepi</code>:</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/plot_sex_semanaepi.html">plot_sex_semanaepi</a></span><span class="op">(</span>data_agrupada <span class="op">=</span> <span class="va">cases_sex_epiweek</span><span class="op">)</span></span></code></pre></div>
<p><img src="custom_analysis_en_files/figure-html/plot-semanaepi-1.png" width="672"></p>
</div>
<div class="section level3">
<h3 id="age-variable">5.2. Age variable<a class="anchor" aria-label="anchor" href="#age-variable"></a>
</h3>
<p>Age is an important variable to analyse, as it is a known risk factor
for many diseases. Certain diseases and conditions tend to occur more
frequently in specific age groups, and this distribution can help
identify populations at higher risk and implement targeted prevention
and control strategies.</p>
<p><code>sivirep</code> provides a function called
<code>agrupar_edad</code>, which can group disease data into age groups.
By default, this function produces age ranges with intervals of 10
years. Users can customise different age ranges.</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">cases_age</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/agrupar_edad.html">agrupar_edad</a></span><span class="op">(</span>data_event <span class="op">=</span>  <span class="va">cleaned_disease_data</span>,</span>
<span>                          interval_edad <span class="op">=</span> <span class="fl">10</span><span class="op">)</span></span></code></pre></div>
<p>The corresponding plot function is <code>plot_edad</code>:</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/plot_edad.html">plot_edad</a></span><span class="op">(</span>data_agrupada <span class="op">=</span> <span class="va">cases_age</span><span class="op">)</span></span></code></pre></div>
<p><img src="custom_analysis_en_files/figure-html/plot-age-1.png" width="576"></p>
</div>
<div class="section level3">
<h3 id="age-and-sex-simultaneously">5.3. Age and sex simultaneously<a class="anchor" aria-label="anchor" href="#age-and-sex-simultaneously"></a>
</h3>
<p><code>sivirep</code> provides a function called
<code>agrupar_edad_sex</code>, which can group disease data by age
ranges and sex simultaneously and calculate the number of cases and
their percentages. Also, the age interval can be customised.</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">cases_age_sex</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/agrupar_edad_sex.html">agrupar_edad_sex</a></span><span class="op">(</span>data_event <span class="op">=</span> <span class="va">cleaned_disease_data</span>,</span>
<span>                                  interval_edad <span class="op">=</span> <span class="fl">10</span>,</span>
<span>                                  porcentaje <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<p>The function that <code>sivirep</code> provides to plot this
corresponding distribution is <code>plot_edad_sex</code>:</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/plot_edad_sex.html">plot_edad_sex</a></span><span class="op">(</span>data_agrupada <span class="op">=</span> <span class="va">cases_age_sex</span><span class="op">)</span></span></code></pre></div>
<p><img src="custom_analysis_en_files/figure-html/plot-age-sex-1.png" width="576"></p>
</div>
<div class="section level3">
<h3 id="spatial-distribution-of-cases">6. Spatial distribution of cases<a class="anchor" aria-label="anchor" href="#spatial-distribution-of-cases"></a>
</h3>
<p>Obtaining the spatial distribution of cases is helpful to identify
areas with a high concentration of cases, disease clusters and
environmental or social risk factors.</p>
<p>In Colombia, there are 32 administrative geographic units (adm1)
called departments.</p>
<p><code>sivirep</code> provides a function called
<code>agrupar_mpio</code> which allows you to obtain disease data
grouped by municipalities of a specific department — in other words, the
department’s case distribution.</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">spatial_mun_dist</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/agrupar_mpio.html">agrupar_mpio</a></span><span class="op">(</span>data_event <span class="op">=</span>  <span class="va">filtered_disease_data</span>,</span>
<span>                                 dpto <span class="op">=</span> <span class="st">"Choco"</span><span class="op">)</span></span></code></pre></div>
<p>There is also a function to obtain the case distribution across all
departments of Colombia, called <code>agrupar_dpto</code>:</p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">spatial_dept_dist</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/agrupar_dpto.html">agrupar_dpto</a></span><span class="op">(</span>data_event <span class="op">=</span>  <span class="va">cleaned_disease_data</span><span class="op">)</span></span></code></pre></div>
<p>Currently, with the function called <code>plot_map</code> the user
can produce a static map of Colombia with the distribution of cases or
incideces by departments and municipalities.</p>
<blockquote>
<p>💡 <strong>Tip - Avoid delays when generating the map</strong> <br>
It is necessary to download the shapefiles of Colombia to generate the
map. To avoid re-downloading them each time, you can use the
<code>cache = TRUE</code> parameter in the <code>plot_map</code>
function.</p>
</blockquote>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">map</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/plot_map.html">plot_map</a></span><span class="op">(</span>data_agrupada <span class="op">=</span> <span class="va">spatial_mun_dist</span>,</span>
<span>                col_distribucion <span class="op">=</span> <span class="st">"casos"</span>,</span>
<span>                ruta_dir <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">map</span></span></code></pre></div>
<p><img src="custom_analysis_en_files/figure-html/plot-map-1.png" width="672"></p>
<blockquote>
<p>💡 <strong>Tip - Get the row with most cases</strong> <br> When
building a report section or analysing this data it can be helpful to
know which sex, age, etc., has the most cases, in <code>sivirep</code>
you can use the function <code>obtener_fila_mas_casos</code> to get this
information. This function works with any dataset that contains a column
called <code>"cases"</code> by any level of aggregation.</p>
</blockquote>
</div>
<div class="section level3">
<h3 id="incidence">7. Incidence<a class="anchor" aria-label="anchor" href="#incidence"></a>
</h3>
<p>With <code>sivirep</code>, you can calculate incidence rates by
geography or sex using DANE population projections or population-at-risk
depending on event and data availability.</p>
<blockquote>
<p>📑 <strong>Note:</strong>
sivirep<code>does not include population-at-risk data for all events.  However if you have this information, you can provide it using the</code>data_incidencia`
parameter in each function.</p>
</blockquote>
<div class="section level4">
<h4 id="incidence-by-geography">7.1 Incidence by geography<a class="anchor" aria-label="anchor" href="#incidence-by-geography"></a>
</h4>
<p>You can calculate incidence by departments or municipalities of a
specific department using the <code>calcular_incidencia_geo</code>
function:</p>
<div class="section level5">
<h5 id="map-of-incidence-by-geography">7.1.1 Map of incidence by geography<a class="anchor" aria-label="anchor" href="#map-of-incidence-by-geography"></a>
</h5>
<p>With the function <code>plot_map</code> you can visualize and
generate a map with the incidence for a specific deparment or
municipality, depending on your selected parameters and
calculations.</p>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">map</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/plot_map.html">plot_map</a></span><span class="op">(</span>data_agrupada <span class="op">=</span> <span class="va">incidence_muns</span><span class="op">$</span><span class="va">data_incidencia</span>,</span>
<span>         ruta_dir <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">map</span></span></code></pre></div>
<p><img src="custom_analysis_en_files/figure-html/plot-map-incidence-1.png" width="672"></p>
</div>
</div>
<div class="section level4">
<h4 id="incidence-by-sex">7.2 Incidence by sex<a class="anchor" aria-label="anchor" href="#incidence-by-sex"></a>
</h4>
<p><code>sivirep</code> provides a function called
<code>calcular_incidencia_sex</code> that allows you to calculate
incidence by sex at national level (Colombia), or for a specific
deparment or municipality.</p>
</div>
<div class="section level4">
<h4 id="total-incidence-in-the-country">7.3 Total incidence in the country<a class="anchor" aria-label="anchor" href="#total-incidence-in-the-country"></a>
</h4>
<p>The <code>calcular_incidencia</code> function allows you to calculate
incidence for the entire country:</p>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Geraldine Gómez-Millán, Zulma M. Cucunubá, Jennifer A. Mendez-Romero, Claudia Huguett-Aragón, International Development Research Center (IDRC).</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.9000. Theme provided by <a href="https://github.com/epiverse-trace/epiversetheme" class="external-link">epiversetheme</a> 0.1.0.</p>
</div>

    </footer>
</div>





  </body>
</html>
